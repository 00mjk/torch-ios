# -*- cmake -*-

PROJECT(Torch)

CMAKE_MINIMUM_REQUIRED(VERSION 2.6 FATAL_ERROR)
CMAKE_POLICY(VERSION 2.6)

SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake"
                      "${CMAKE_BINARY_DIR}/cmake" "${CMAKE_MODULE_PATH}")

INCLUDE(TorchPaths)
INCLUDE(TorchPathsInit)
INCLUDE(TorchCFlags)
INCLUDE(TorchDOK)

# Torch executables
ADD_SUBDIRECTORY(exe)

# Torch libraries
ADD_SUBDIRECTORY(lib)

# Find our own Lua
FIND_PACKAGE(Lua REQUIRED)
SET(Torch_SOURCE_INCLUDES "${LUA_INCLUDE_DIR}" "${Torch_SOURCE_INCLUDES}")

INCLUDE(TorchPackage)
INCLUDE(TorchWrap)

ADD_SUBDIRECTORY(pkg)
ADD_SUBDIRECTORY(extra)

INCLUDE(TorchExports)

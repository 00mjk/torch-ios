# -*- cmake -*-

PROJECT(Torch)

IF (WIN32)
  CMAKE_MINIMUM_REQUIRED(VERSION 2.6 FATAL_ERROR)
ELSEIF (APPLE)
  CMAKE_MINIMUM_REQUIRED(VERSION 2.4.8 FATAL_ERROR)
ELSE (WIN32)
  CMAKE_MINIMUM_REQUIRED(VERSION 2.4.7 FATAL_ERROR)
ENDIF(WIN32)

IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(VERSION 2.6)
ENDIF(COMMAND CMAKE_POLICY)

SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake"
                      "${CMAKE_BINARY_DIR}/cmake" "${CMAKE_MODULE_PATH}")

INCLUDE(TorchPaths)
INCLUDE(TorchPathsInit)
INCLUDE(TorchCFlags)
INCLUDE(TorchDOK)

# Torch executables
ADD_SUBDIRECTORY(exe)

# Torch libraries
ADD_SUBDIRECTORY(lib)

# Torch packages
FIND_PACKAGE(Lua REQUIRED)
INCLUDE(TorchPackage)
INCLUDE(TorchWrap)

ADD_SUBDIRECTORY(pkg)
ADD_SUBDIRECTORY(extra)

INCLUDE(TorchExports)
